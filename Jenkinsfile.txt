pipeline {


      stages {
      
        stage("sonarqube quality check"){

           agent{
              
                docker{
                
                 image 'maven'
                
                }
              
              }
        
           steps{

              script{

                 withCredentials([string(credentialsId: 'jenkins-sonar', variable: 'jenkins-sonar')]) {
                         sh 'mvn clean package sonar:sonar'
   
                 }
           
             }
                
          
           }
        
        }
      
      }

}